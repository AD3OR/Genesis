<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Autism Dataset</title>
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/css/aut.css">
</head>

<body class="fade-in">
  <!-- Header -->
  <header>
    <img src="/images/sym.png" alt="Genesis Symbol" class="center-image" />
    <h1>Autism Dataset A</h1>
    <button id="bookmarkDatasetBtn" class="px-4 py-2 bg-blue-600 text-white rounded-lg shadow-md hover:bg-blue-700">
      ðŸ“‚ Bookmark This Dataset
    </button>

  </header>

  <!-- Main content -->
  <main class="intro">
    <section>
      <div class="table-wrapper">
        <table id="autismTable" class="styled-table">
          <thead>
            <tr id="headerRow"></tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer>
    <p>&copy; 2025 Genesis. All rights reserved.</p>
  </footer>

  <!-- Script to load dataset -->
  <script>
    fetch('/autism')
      .then(res => res.json())
      .then(data => {
        const headerRow = document.getElementById('headerRow');
        const tbody = document.querySelector('#autismTable tbody');

        headerRow.innerHTML = '';
        tbody.innerHTML = '';

        // Headers
        if (data.attributes && data.attributes.length > 0) {
          data.attributes.forEach(attr => {
            const th = document.createElement('th');
            th.textContent = attr;
            headerRow.appendChild(th);
          });
        }

        // Rows
        if (data.data && data.data.length > 0) {
          data.data.forEach(row => {
            const tr = document.createElement('tr');
            row.forEach(cell => {
              const td = document.createElement('td');
              td.textContent = cell;
              tr.appendChild(td);
            });
            tbody.appendChild(tr);
          });
        }
      })
      .catch(err => console.error('Error loading dataset:', err));
  </script>
  <script>
    const datasetKey = "autism_dataset_a"; // unique ID for this dataset
    const btn = document.getElementById("bookmarkDatasetBtn");

    function updateDatasetBtn() {
      if (localStorage.getItem(datasetKey) === "true") {
        btn.textContent = "ðŸ“‚ Unbookmark Dataset";
      } else {
        btn.textContent = "ðŸ“‚ Bookmark This Dataset";
      }
    }

    btn.addEventListener("click", () => {
      let count = parseInt(localStorage.getItem("bookmarkedDatasets"), 10) || 0;

      if (localStorage.getItem(datasetKey) === "true") {
        localStorage.removeItem(datasetKey);
        localStorage.setItem("bookmarkedDatasets", count - 1);
      } else {
        localStorage.setItem(datasetKey, "true");
        localStorage.setItem("bookmarkedDatasets", count + 1);
      }
      updateDatasetBtn();
    });

    updateDatasetBtn();
  </script>



</body>

</html>